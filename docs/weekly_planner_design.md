# 週間プランナービューのデザイン

週間プランナーは既存のリスト形式カレンダーに代わり、ユーザーが週全体の空き状況をひと目で把握できるようにするものです。このドキュメントは実装時に指針となる期待事項をまとめています。

## レイアウトの概要

- **表示範囲:** 連続する 7 日間を左から右へ表示します。既定の開始曜日は月曜日です。
- **時間軸:** 06:00 から 22:00 までを 1 時間刻みで縦軸に配置します。各時間にはラベル付きの行を用意し、30 分単位のイベントを表現できるよう視覚的な区切りを設けます。
- **グリッド:** 曜日の列と時間の行を組み合わせてマトリクスを構成します。空セルには淡い背景色と薄い罫線を用いて、内容を邪魔せずに位置を把握しやすくします。

## イベントブロック

- 各スケジュールは該当する曜日の列に配置され、開始時刻から終了時刻までの縦方向の範囲を占めるブロックとして描画します。
- イベントタイトルを目立つように表示し、必要に応じて場所や部屋を小さな文字で下に示します。スペースが限られる場合は省略記号で切り詰めつつ、ツールチップやホバーで詳細を確認できるようにします。
- イベントの所有者ごとに背景色を変えるか、所有者情報が得られない場合は一貫したアクセントカラーを使用します。テキストは WCAG AA のコントラストを満たしてください。

## インタラクション

- 空のセルをクリックすると、その時間帯と曜日をあらかじめ設定した「Create Schedule」ダイアログを開きます。
- イベントをクリックすると、既存の「Edit Schedule」ダイアログを開きます。
- イベントのドラッグ操作は将来の拡張として計画するため、今後ドラッグ＆ドロップを追加しやすいようにマークアップと CSS 構造を整えておきます。

## レスポンシブ対応

- 幅 768px 未満では、時間順を保ったまま各日を縦に積み重ねるビューに切り替えます。デスクトップのグリッドが基準となる表現です。
- 週間グリッドが画面に収まらない場合は横スクロールを可能にし、文脈が失われないよう時間軸を固定します。
- 576px 以下では列の最小幅をさらに縮小し、ピンチズームを強いられないよう日別の列が読みやすい幅を維持します。

## アクセシビリティに関する注意

- グリッドセルには「火曜日の 14:00」のように説明的な `aria-label` を付与します。
- 各セルとイベントブロックにフォーカスできるようにし、キーボードでもプランナーを操作できるようにします。
- ローカライズ対応が整った際にはユーザーのロケールに沿った日付書式を尊重しますが、それまでは月曜日始まりを既定とします。
- イベントブロックには意味のあるフォーカス状態と `aria-live` の更新を提供し、週のデータが更新されたときにスクリーンリーダーが変化を読み上げられるようにします。プランナーの表形式に合致するセマンティック要素（`role="grid"`、`rowheader`、`gridcell`）を使用してください。
- 所有者ではないユーザーには編集が禁止されるため、フォーカス可能でありながら編集ルートに遷移しない読み取り専用の要素としてイベントを表示します。

## ビジュアルの参考

紙の週間手帳をイメージし、日付と時間の区切りが明確で、空き時間を探しやすいクリーンでミニマルな美しさを目指してください。
